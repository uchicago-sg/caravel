application: hosted-caravel
runtime: python27
api_version: 1
version: 1
threadsafe: yes

handlers:
- url: /static
  static_dir: caravel/static
  secure: always
- url: /moderation.*
  script: caravel.app
  login: admin
  secure: always
- url: /_internal/.*
  script: caravel.app
  login: admin
  secure: always
- url: /login.*
  script: caravel.app
  login: required
  secure: always
- url: /api/v1/.*
  script: caravel.app
  login: required
  secure: always

# Enable profiling support.
- url: /gae_mini_profiler/static
  static_dir: gae_mini_profiler/static
- url: /gae_mini_profiler/.*
  script: gae_mini_profiler.main.application

- url: /.*
  script: caravel.app
  secure: always

builtins:
- deferred: on
- remote_api: on

skip_files:
- ^(.*/)?#.*#$
- ^(.*/)?.*~$
- ^(.*/)?.*\.py[co]$
- ^(.*/)?.*/RCS/.*$
- ^(.*/)?\..*$
- ^.*venv.*$
